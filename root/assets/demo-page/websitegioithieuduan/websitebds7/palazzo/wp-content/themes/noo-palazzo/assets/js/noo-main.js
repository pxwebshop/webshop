var NOO=NOO||{};(function($){"use strict";var $window=$(window),$body=$('body'),isRTL=$body.hasClass('rtl')?true:false,deviceAgent=navigator.userAgent.toLowerCase(),isMobile=deviceAgent.match(/(iphone|ipod|android|iemobile)/),isMobileAlt=deviceAgent.match(/(iphone|ipod|ipad|android|iemobile)/),isAppleDevice=deviceAgent.match(/(iphone|ipod|ipad)/),isIEMobile=deviceAgent.match(/(iemobile)/);NOO.common={init:function(){NOO.common.owlCarousel();NOO.common.stellar();NOO.common.prettyPhoto();NOO.common.magicLine();NOO.common.tooltip();NOO.common.popup();NOO.common.relatedOwl();NOO.common.accessoriesOwl();NOO.common.subMenuPosition();NOO.common.gridMasonry();NOO.common.masonryFilterClick();NOO.common.DataTable();NOO.common.order_DataTable();},owlCarousel:function(){$('.owl-carousel[data-plugin-options]').each(function(){var slider=$(this);var defaults={items:4,rtl:isRTL,margin:0,nav:true,navText:["<i class='fa fa-angle-left'></i>","<i class='fa fa-angle-right'></i>"],slideBy:1,responsive:{0:{items:1},500:{items:2},991:{items:3},1200:{items:4},1300:{items:4}},};var columns=slider.data("plugin-options");isRTL=slider.data('rtl')?slider.data('rtl'):isRTL;var autoplay=slider.data('autoplay')?slider.data('autoplay'):false;var autoplayTimeout=slider.data('duration')?parseInt(slider.data('duration')):2000;var margin=slider.data('margin')?parseInt(slider.data('margin')):0;var nav=slider.data('nav')?slider.data('nav'):false;var pagination=slider.data('pagination')?slider.data('pagination'):false;var loop=slider.data('loop')?slider.data('loop'):false;if(columns>=3){var config={item:columns,margin:margin,nav:nav,dots:pagination,rtl:isRTL,loop:loop,autoplay:autoplay,autoplayTimeout:autoplayTimeout,autoplayHoverPause:true,responsive:{0:{items:1},500:{items:2},991:{items:3},1400:{items:4},1500:{items:columns}},}}
if(columns<3){var config={item:columns,margin:margin,nav:nav,dots:pagination,rtl:isRTL,loop:loop,autoplay:autoplay,autoplayTimeout:autoplayTimeout,autoplayHoverPause:true,responsive:{0:{items:1},991:{items:columns}}}}
var configs=$.extend(defaults,config);slider.owlCarousel(configs);});},relatedOwl:function(){$('.noo-related-post.slider').each(function(){var col=$(this).data("col");var margin=$(this).data("margin");$(this).owlCarousel({items:col,margin:margin,rtl:isRTL,responsive:{0:{items:1},500:{items:2},991:{items:col},1200:{items:col},1300:{items:col}},});});},accessoriesOwl:function(){$('.accessories .noo-slider').each(function(){var columns=$(this).attr('data-col');$(this).owlCarousel({items:columns,margin:0,rtl:isRTL,responsive:{0:{items:1},500:{items:1},991:{items:2},1200:{items:columns},1300:{items:columns}},});});},isDesktop:function(){var responsive_breakpoint=991;return window.matchMedia('(min-width: '+(responsive_breakpoint+1)+'px)').matches;},stellar:function(){if($('.page-title-parallax').length>0){$.stellar({horizontalScrolling:false,scrollProperty:'scroll',positionProperty:'position'});}},prettyPhoto:function(){var prettyPhoto=$("a[data-rel^='prettyPhoto']");if(prettyPhoto.length>0){prettyPhoto.prettyPhoto({hook:'data-rel',social_tools:'',animation_speed:'normal',theme:'light_square'});}},magicLine:function(){$('.magic-line-container').each(function(){var activeItem=$('li.active',this);NOO.common.magicLineSetPosition(activeItem);$('li',this).hover(function(){if(!$(this).hasClass('none-magic-line')){NOO.common.magicLineSetPosition(this);}},function(){if(!$(this).hasClass('none-magic-line')){NOO.common.magicLineReturnActive(this);}});});},magicLineSetPosition:function(item){if(item!=null&&item!='undefined'){var left=0;if($(item).position()!=null)
left=$(item).position().left;var marginLeft=$(item).css('margin-left');var marginRight=$(item).css('margin-right');var topMagicLine=$('.top.magic-line',$(item).parent());var bottomMagicLine=$('.bottom.magic-line',$(item).parent());if(topMagicLine!=null&&topMagicLine!='undefined'){$(topMagicLine).css('left',left);$(topMagicLine).css('width',$(item).width());$(topMagicLine).css('margin-left',marginLeft);$(topMagicLine).css('margin-right',marginRight);}
if(bottomMagicLine!=null&&bottomMagicLine!='undefined'){$(bottomMagicLine).css('left',left);$(bottomMagicLine).css('width',$(item).width());$(bottomMagicLine).css('margin-left',marginLeft);$(bottomMagicLine).css('margin-right',marginRight);}}},magicLineReturnActive:function(current_item){if(!$(current_item).hasClass('active')){var activeItem=$('li.active',$(current_item).parent());NOO.common.magicLineSetPosition(activeItem);}},showLoading:function(){$body.addClass('overflow-hidden');if($('.loading-wrapper').length==0){$body.append('<div class="loading-wrapper"><span class="spinner-double-section-far"></span></div>');}},hideLoading:function(){$('.loading-wrapper').fadeOut(function(){$('.loading-wrapper').remove();$('body').removeClass('overflow-hidden');});},popup:function(){if($('#noo-popup').length>0){var et_popup_closed=$.cookie('noo_popup_closed');var popup_effect=$('.noo-popup').data('effect');var popup_delay=$('.noo-popup').data('delay');setTimeout(function(){$('.noo-popup').magnificPopup({items:{src:'#noo-popup',type:'inline'},removalDelay:500,callbacks:{beforeOpen:function(){this.st.mainClass=popup_effect;},beforeClose:function(){if($('#showagain:checked').val()=='do-not-show')
$.cookie('noo_popup_closed','do-not-show',{expires:1,path:'/'});},}});if(et_popup_closed!='do-not-show'&&$('.noo-popup').length>0&&$('body').hasClass('open-popup')){$('.noo-popup').magnificPopup('open');}},popup_delay);}},tooltip:function(){if($().tooltip&&!isMobileAlt){$('.site-content-archive-product .product-item-wrap.button-has-tooltip').each(function(){$(this).find('.yith-wcwl-add-button.show','.product-actions').tooltip({title:noo_framework_constant.product_wishList});$(this).find('.yith-wcwl-wishlistexistsbrowse.show,.yith-wcwl-wishlistaddedbrowse.show','.product-actions').tooltip({title:noo_framework_constant.product_wishList_added});$(this).find('.compare,.add_to_compare').tooltip({title:noo_framework_constant.product_compare});$(this).find('[data-toggle="tooltip"]').tooltip();$(this).find('.product-quick-view','.product-actions').tooltip({title:noo_framework_constant.product_quickview});});}},isIE:function(){var ua=window.navigator.userAgent;var msie=ua.indexOf("MSIE ");if(msie||!!navigator.userAgent.match(/Trident.*rv\:11\./)){return true;}
return false;},subMenuPosition:function(){$("ul.noo-main-menu li li.menu-item-has-children").mouseenter(function(){if($(this).children('ul').length==1){var parent=$(this);var child_menu=$(this).children('ul');if($(parent).offset().left+$(parent).width()+$(child_menu).width()>$(window).width()){$(child_menu).css('left','-'+$(parent).width()+'px');}
else{$(child_menu).css('left',$(parent).width()+'px');}}});},gridMasonry:function(){var grid_masonry=$('.grid-masonry-wrap');if(grid_masonry.length>0){grid_masonry.imagesLoaded(function(){grid_masonry.isotope({itemSelector:'.masonry-item',layoutMode:'masonry'});setTimeout(function(){grid_masonry.isotope('layout');},500);});}},masonryFilterClick:function(){var container=$('.grid-masonry-wrap'),filter=$('.masonry_filter_click a');filter.on('click',function(e){e.stopPropagation();e.preventDefault();var $this=$(this);if($this.hasClass('selected')){return false;}
var filters=$this.closest('ul');filters.find('.selected').removeClass('selected');$this.addClass('selected');var options={},key=filters.attr('data-option-key'),value=$this.attr('data-option-value');value=value==='false'?false:value;options[key]=value;container.isotope(options);});},DataTable:function(){if($('.noo-my-dashboard').length>0){$('.noo-my-dashboard').each(function(e){var table=$(this).find('.noo-datatable').DataTable({responsive:true,stateSave:false});var search_status=$(this).find('#rp-status');search_status.on('change',function(){if(table.columns('.status').search()!==$(this).val()){table.columns('.status').search($(this).val()).draw();}});var search_offer=$(this).find('#rp-offer');if(search_offer.length>0){search_offer.on('change',function(){if(table.columns('.offer').search()!==$(this).val()){table.columns('.offer').search($(this).val()).draw();}});}})}},order_DataTable:function(){if($('.order-table').length>0){$('.order-table').each(function(e){$(this).DataTable({searching:false,bLengthChange:false,responsive:true,stateSave:false,});})}}};NOO.page={init:function(){NOO.page.setOverlayVC();NOO.page.events();NOO.page.backToTop();NOO.page.setUnderConstruction();},events:function(){$('.wpb_map_wraper').on('click',NOO.page.onMapClickHandler);},windowLoad:function(){if($body.hasClass('noo-site-preload')){NOO.page.pageIn();}},windowResized:function(){NOO.page.setUnderConstruction();},setOverlayVC:function(){$('[data-overlay-image]').each(function(){var $selector=$(this);setTimeout(function(){var overlay_image=$selector.data('overlay-image');var overlay_opacity=$selector.data('overlay-opacity');var html='<div class="overlay-bg-vc" style="background-image: url('+overlay_image+') ;background-repeat:repeat; opacity:'+overlay_opacity+'"></div>';$selector.prepend(html);},100);});$('[data-overlay-color]').each(function(){var $selector=$(this);setTimeout(function(){var overlay_color=$selector.data('overlay-color');var html='<div class="overlay-bg-vc" style="background-color: '+overlay_color+'"></div>';$selector.prepend(html);},100);});},backToTop:function(){var $backToTop=$('.back-to-top');if($backToTop.length>0){$backToTop.on('click',function(event){event.preventDefault();$('html,body').animate({scrollTop:'0px'},800);});$window.on('scroll',function(event){var scrollPosition=$window.scrollTop();var windowHeight=$window.height()/2;if(scrollPosition>windowHeight){$backToTop.addClass('in');}
else{$backToTop.removeClass('in');}});}},onMapClickHandler:function(){var that=$(this);that.off('click',NOO.page.onMapClickHandler);that.find('iframe').css("pointer-events","auto");that.on('mouseleave',NOO.page.onMapMouseleaveHandler);},onMapMouseleaveHandler:function(){var that=$(this);that.on('click',NOO.page.onMapClickHandler);that.off('mouseleave',NOO.page.onMapMouseleaveHandler);that.find('iframe').css("pointer-events","none");},pageIn:function(){setTimeout(function(){$('#noo-site-preload').fadeOut(300);},300);},setUnderConstruction:function(){var $under_wrap=$('body.under-construction, body.coming-soon');if(typeof $under_wrap!='undefined'){var $content=$('.content',$under_wrap[0]);if($(window).width()>768){var $wpb_wrapper=$('.wpb_wrapper',$content);var $height=$wpb_wrapper.outerHeight();var $wpadminbar=$('#wpadminbar');var $windowHeight=$(window).height();if($windowHeight>$wpb_wrapper.outerHeight()){$content.css('height',$windowHeight);}else{$content.css('height','auto');}
if($wpadminbar.length>0){$windowHeight=$windowHeight-$wpadminbar.outerHeight();}
var $padding=$windowHeight-$height;if($padding>0){$content.css('padding-top',$padding/2+'px');$content.css('padding-bottom',$padding/2+'px');}}else{$content.css('height','auto');}}}};NOO.blog={init:function(){NOO.blog.jPlayerSetup();NOO.blog.infiniteScroll();NOO.blog.loadMore();NOO.blog.gridLayout();setInterval(NOO.blog.gridLayout,300);NOO.blog.masonryLayout();setInterval(NOO.blog.masonryLayout,300);},windowResized:function(){NOO.blog.processWidthAudioPlayer();},jPlayerSetup:function(){$('.jp-jplayer').each(function(){var $this=$(this),url=$this.data('audio'),title=$this.data('title'),type=url.substr(url.lastIndexOf('.')+1),player='#'+$this.data('player'),audio={};audio[type]=url;audio['title']=title;$this.jPlayer({ready:function(){$this.jPlayer('setMedia',audio);},swfPath:'../plugins/jquery.jPlayer',cssSelectorAncestor:player});});NOO.blog.processWidthAudioPlayer();},processWidthAudioPlayer:function(){setTimeout(function(){$('.jp-audio .jp-type-playlist').each(function(){var _width=$(this).outerWidth()-$('.jp-play-pause',this).outerWidth()-parseInt($('.jp-play-pause',this).css('margin-left').replace('px',''),10)-parseInt($('.jp-progress',this).css('margin-left').replace('px',''),10)-$('.jp-volume',this).outerWidth()-parseInt($('.jp-volume',this).css('margin-left').replace('px',''),10)-15;$('.jp-progress',this).width(_width);});},100);},infiniteScroll:function(){var contentWrapper=$('.blog-inner');if($('.blog-paging-infinity-scroll').length>0){$('.blog-inner').infinitescroll({navSelector:"#infinite_scroll_button",nextSelector:"#infinite_scroll_button a",itemSelector:"article",loading:{'selector':'#infinite_scroll_loading','img':noo_framework_theme_url+'/assets/images/ajax-loader.gif','msgText':'Loading...','finishedMsg':''}},function(newElements,data,url){var $newElems=$(newElements).css({opacity:0});$newElems.imagesLoaded(function(){NOO.common.owlCarousel();NOO.blog.jPlayerSetup();NOO.common.prettyPhoto();$newElems.animate({opacity:1});if(contentWrapper.hasClass('blog-style-masonry')||contentWrapper.hasClass('blog-style-grid')){contentWrapper.isotope('appended',$newElems);setTimeout(function(){contentWrapper.isotope('layout');},400);}});});}},loadMore:function(){$('.blog-load-more').on('click',function(event){event.preventDefault();var $this=$(this).button('loading');var link=$(this).attr('data-href');var contentWrapper=$('.blog-inner');var element='article';$.get(link,function(data){var next_href=$('.blog-load-more',data).attr('data-href');var $newElems=$(element,data).css({opacity:0});$newElems.imagesLoaded(function(){NOO.common.owlCarousel();NOO.blog.jPlayerSetup();NOO.common.prettyPhoto();contentWrapper.append($newElems);$newElems.animate({opacity:1});if(contentWrapper.hasClass('blog-style-masonry')||contentWrapper.hasClass('blog-style-grid')){contentWrapper.isotope('appended',$newElems);contentWrapper.imagesLoaded().isotope('layout');}});if(typeof(next_href)=='undefined'){$this.parent().remove();}else{$this.button('reset');$this.attr('data-href',next_href);}});});},gridLayout:function(){var $blog_grid=$('.blog-style-grid');if($blog_grid.length>0){$blog_grid.imagesLoaded(function(){$blog_grid.isotope({itemSelector:'article',layoutMode:"fitRows",isOriginLeft:!isRTL});setTimeout(function(){$blog_grid.isotope('layout');},500);});}},masonryLayout:function(){var $blog_masonry=$('.blog-style-masonry');if($blog_masonry.length>0){$blog_masonry.imagesLoaded(function(){$blog_masonry.isotope({itemSelector:'article',layoutMode:"masonry",isOriginLeft:!isRTL});setTimeout(function(){$blog_masonry.isotope('layout');},500);});}},};NOO.search={up:function($wrapper){var $item=$('li.selected',$wrapper);if($('li',$wrapper).length<2)return;var $prev=$item.prev();$item.removeClass('selected');if($prev.length){$prev.addClass('selected');}
else{$('li:last',$wrapper).addClass('selected');$prev=$('li:last',$wrapper);}
var $ajaxSearchResult=$(' > ul',$wrapper);if($prev.position().top<$ajaxSearchResult.scrollTop()){$ajaxSearchResult.scrollTop($prev.position().top);}
else if($prev.position().top+$prev.outerHeight()>$ajaxSearchResult.scrollTop()+$ajaxSearchResult.height()){$ajaxSearchResult.scrollTop($prev.position().top-$ajaxSearchResult.height()+$prev.outerHeight());}},down:function($wrapper){var $item=$('li.selected',$wrapper);if($('li',$wrapper).length<2)return;var $next=$item.next();$item.removeClass('selected');if($next.length){$next.addClass('selected');}
else{$('li:first',$wrapper).addClass('selected');$next=$('li:first',$wrapper);}
var $ajaxSearchResult=$('> ul',$wrapper);if($next.position().top<$ajaxSearchResult.scrollTop()){$ajaxSearchResult.scrollTop($next.position().top);}
else if($next.position().top+$next.outerHeight()>$ajaxSearchResult.scrollTop()+$ajaxSearchResult.height()){$ajaxSearchResult.scrollTop($next.position().top-$ajaxSearchResult.height()+$next.outerHeight());}}};NOO.header={timeOutSearch:null,init:function(){NOO.header.stickyHeader();NOO.header.menuMobile();NOO.header.events();NOO.header.search();NOO.header.searchAjaxForm();NOO.header.headerLeftPosition();NOO.header.searchCategory();NOO.header.canvasMenu();},events:function(){$("a[data-hash]").on('click',function(e){e.preventDefault();NOO.page.anchorsPosition(this);return false;});},windowResized:function(){NOO.header.stickyHeader();NOO.header.headerNavSpacing();if(NOO.common.isDesktop()){$('.toggle-icon-wrapper[data-drop]').removeClass('in');}
var $adminBar=$('#wpadminbar');if($adminBar.length>0){$body.attr('data-offset',$adminBar.outerHeight()+1);}
if($adminBar.length>0){$body.attr('data-offset',$adminBar.outerHeight()+1);}
NOO.header.headerMobilePosition();},windowLoad:function(){NOO.header.headerNavSpacing(1);NOO.header.headerMobilePosition();NOO.header.fixStickyLogoSize();},fixStickyLogoSize:function(){if(NOO.common.isIE()){var $logo=$("header .logo-sticky img");if($logo.length==0){return;}
var logo_url=$logo.attr('src');if(logo_url.length-logo_url.lastIndexOf('.svg')!=4){return;}
$.get(logo_url,function(svgxml){var attrs=svgxml.documentElement.attributes;var pic_real_width=attrs.width.value;var pic_real_height=attrs.height.value;if(typeof(pic_real_width)=="string"){pic_real_width=pic_real_width.replace('px','');pic_real_width=parseInt(pic_real_width,10);}
if(typeof(pic_real_height)=="string"){pic_real_height=pic_real_height.replace('px','');pic_real_height=parseInt(pic_real_height,10);}
if(pic_real_height>0){$logo.css('width',(pic_real_width*30/pic_real_height)+'px');}},"xml");}},headerMobilePosition:function(){var top=0;if(($('#wpadminbar').length>0)){top=$('#wpadminbar').outerHeight();}
if(top>0&&($('#wpadminbar').css('position')=='fixed')){$('.noo-mobile-header-nav.menu-drop-fly').css('top',top+'px');$('#wpadminbar').css('top','');}else if(top>0&&($('#wpadminbar').css('position')=='absolute')){$('#wpadminbar').css('top',-top+'px');$('.noo-mobile-header-nav.menu-drop-fly').css('top','');}
else{$('.noo-mobile-header-nav.menu-drop-fly').css('top','');$('#wpadminbar').css('top','');}},headerLeftPosition:function(){var top=0;if($('#wpadminbar').length>0){top=$('#wpadminbar').outerHeight();}
if(top>0){$('header.header-left').css('top',top+'px');}
var header_height=$('.noo-main-header').outerHeight();$('.noo-main-header').css("height",header_height);},stickyHeader:function(){if($('.header-sticky').length>0){var topSpacing=0,$adminBar=$('#wpadminbar');if(($adminBar.length>0)&&($adminBar.css('position')=='fixed')){topSpacing=$adminBar.outerHeight();}
$('.header-sticky, .header-mobile-sticky').unstick();var topSticky=topSpacing,sticky_effect=$('.header-sticky').attr('data-effect');if(NOO.common.isDesktop()){topSpacing=-$(window).height();$('.header-sticky').sticky({topSpacing:topSpacing,topSticky:topSticky,animated:sticky_effect});}
else{$('.header-mobile-sticky').sticky({topSpacing:topSpacing,topSticky:topSticky});}}},menuOnePage:function(){if($('.menu-one-page').length){$('.menu-one-page').onePageNav({currentClass:'current-menu',changeHash:false,scrollSpeed:750,scrollThreshold:0.5,filter:'',easing:'swing'});}},anchorsPosition:function(obj,time){var target=$(obj).attr("href");if($(target).length>0){var _scrollTop=$(target).offset().top,$adminBar=$('#wpadminbar');if($adminBar.length>0){_scrollTop-=$adminBar.outerHeight();}
$("html,body").animate({scrollTop:_scrollTop},time,'swing',function(){});}},menuMobile:function(){$('.toggle-mobile-menu[data-ref]').on('click',function(event){event.preventDefault();var $this=$(this);var data_drop=$this.data('ref');$this.toggleClass('in');switch($this.data('drop-type')){case 'dropdown':$('#'+data_drop).slideToggle();break;case 'fly':$('body').toggleClass('menu-mobile-in');$('#'+data_drop).toggleClass('in');break;}});$('.toggle-icon-wrapper[data-ref]:not(.toggle-mobile-menu)').on('click',function(event){event.preventDefault();var $this=$(this);var data_ref=$this.data('ref');$this.toggleClass('in');$('#'+data_ref).toggleClass('in');});$('.noo-mobile-menu-overlay').on('click',function(){$body.removeClass('menu-mobile-in');$('#noo-nav-mobile-menu').removeClass('in');$('.toggle-icon-wrapper[data-ref]').removeClass('in');});},canvasMenu:function(){$(document).on('click',function(event){if(($(event.target).closest('nav.noo-canvas-menu-wrapper').length==0)&&($(event.target).closest('.canvas-menu-toggle')).length==0){$('nav.noo-canvas-menu-wrapper').removeClass('in');}});$('body').on('click','.canvas-menu-toggle',function(event){event.preventDefault();var data=$(this).data('id');if($('nav.noo-canvas-menu-wrapper').hasClass('in')&&!$('nav.noo-canvas-menu-wrapper#'+data).hasClass('in')){$('nav.noo-canvas-menu-wrapper').removeClass('in')}
$('nav.noo-canvas-menu-wrapper#'+data).toggleClass('in');if($('#wishlists-canvas').length||$('#mini-cart-canvas').length){canvas_scrollbar();}});$('.noo-canvas-menu-close').on('click',function(event){event.preventDefault();$('nav.noo-canvas-menu-wrapper').removeClass('in');});var canvas_scrollbar=function(){var h=$(window).height(),h_canvas=h-320;if($('.scrollbar-inner-canvas').length>0){$('.scrollbar-inner-canvas').parents('.noo-canvas-menu-wrapper').css('min-height',h+'px');$('.scrollbar-inner-canvas').scrollbar();}
if($('#wishlists-canvas').length>0){h_canvas=h-170;$('#wishlists-canvas .scrollbar-inner-canvas').parent().css('max-height',h_canvas+'px');$('#wishlists-canvas .scrollbar-inner-canvas').css('max-height',h_canvas+'px');}}
if($('#mini-cart-canvas').length){$('body').on('click','.add_to_cart_button',function(event){setTimeout(function(){canvas_scrollbar();$('#mini-cart-canvas').addClass('in');},2000);});$("#mini-cart-canvas").on('click','.mini-cart-remove',function(event){event.preventDefault();var container=$(this),data_url=container.attr('href');if(data_url.length==0)
return;var $supports_html5_storage;var cart_hash_key=wc_cart_fragments_params.ajax_url.toString()+'-wc_cart_hash';try{$supports_html5_storage=('sessionStorage'in window&&window.sessionStorage!==null);window.sessionStorage.setItem('wc','test');window.sessionStorage.removeItem('wc');window.localStorage.setItem('wc','test');window.localStorage.removeItem('wc');}catch(err){$supports_html5_storage=false;}
function set_cart_creation_timestamp(){if($supports_html5_storage){sessionStorage.setItem('wc_cart_created',(new Date()).getTime());}}
function set_cart_hash(cart_hash){if($supports_html5_storage){localStorage.setItem(cart_hash_key,cart_hash);sessionStorage.setItem(cart_hash_key,cart_hash);}}
var $fragment_refresh={url:wc_cart_fragments_params.wc_ajax_url.toString().replace('%%endpoint%%','get_refreshed_fragments'),type:'POST',success:function(data){if(data&&data.fragments){$.each(data.fragments,function(key,value){$(key).replaceWith(value);});if($supports_html5_storage){sessionStorage.setItem(wc_cart_fragments_params.fragment_name,JSON.stringify(data.fragments));set_cart_hash(data.cart_hash);if(data.cart_hash){set_cart_creation_timestamp();}}
$(document.body).trigger('wc_fragments_refreshed');NOO.woocommerce.lazyload();}}}
function refresh_cart_fragment(){$.ajax($fragment_refresh);}
$(this).after('<div class="spinner-bg"><span class="spinner is-active" style="background-image: url('+noo_framework_app.image_load+')"></span></div>');$.ajax({type:'GET',url:data_url,dataType:'html',success:function(response){var obj=$(response),new_form=obj.find('main .entry-content .woocommerce');refresh_cart_fragment();$('main .entry-content .woocommerce').replaceWith(new_form);setTimeout(function(){canvas_scrollbar();},1800);}});});}
if($('#wishlists-canvas').length){$('#wishlists-canvas').on('click','.remove_from_wishlist',function(event){event.preventDefault();var t=$(this),pr=t.parents('tr'),btn=t.parents('#wishlists-canvas').find('.wl-button'),count=t.parents('tbody').find('tr').length;$.ajax({url:noo_framework_app.ajax_url,type:'GET',dataType:'html',data:{action:'get_wishlists_refreshed_fragments'},beforeSend:function(){t.parents('tr').append('<div class="spinner-bg"><span class="spinner is-active" style="background-image: url('+noo_framework_app.image_load+')"></span></div>');},success:function(){if(pr.length){setTimeout(function(){pr.remove();},300);}
t.parents('tr').find('.spinner-bg').remove();if(count==1){btn.addClass('hidden');}}});setTimeout(function(){canvas_scrollbar();},1800);});$('main').on('click','.remove_from_wishlist',function(event){event.preventDefault();var t=$(this),hr=t.attr('href'),hrd=jQuery('#wishlists-canvas tbody > tr > .product-remove a').attr('href'),hrd_hr=hrd.split('?')[0],pr=jQuery('#wishlists-canvas a[href="'+hr+'"]').parents('tr');if(hr.indexOf('admin-ajax.php')!=-1&&hrd_hr!=''){hr=hrd_hr+'?'+hr.split('?')[1]
pr=jQuery('#wishlists-canvas a[href="'+hr+'"]').parents('tr');}
if(pr.length){setTimeout(function(){pr.remove();if(t.parents('tbody').find('tr').length==1){jQuery('#wishlists-canvas .wl-button').addClass('hidden');}},2000)}});$('body').on('click','.add_to_wishlist',function(event){event.preventDefault();var el=$(this),product_id=el.data('product-id'),el_wrap=$('.add-to-wishlist-'+product_id),data={add_to_wishlist:product_id,product_type:el.data('product-type'),action:yith_wcwl_l10n.actions.add_to_wishlist_action};if(yith_wcwl_l10n.multi_wishlist&&yith_wcwl_l10n.is_user_logged_in){var wishlist_popup_container=el.parents('.yith-wcwl-popup-footer').prev('.yith-wcwl-popup-content'),wishlist_popup_select=wishlist_popup_container.find('.wishlist-select'),wishlist_popup_name=wishlist_popup_container.find('.wishlist-name'),wishlist_popup_visibility=wishlist_popup_container.find('.wishlist-visibility');data.wishlist_id=wishlist_popup_select.val();data.wishlist_name=wishlist_popup_name.val();data.wishlist_visibility=wishlist_popup_visibility.val();}
$.ajax({type:'POST',url:yith_wcwl_l10n.ajax_url,data:data,dataType:'json',beforeSend:function(){el.siblings('.ajax-loading').css('visibility','visible');},complete:function(){el.siblings('.ajax-loading').css('visibility','hidden');},success:function(response){var form=$('#wishlists-canvas .wishlists-content > form');reload_wishlist_and_adding_elem(el,form);setTimeout(function(){canvas_scrollbar();$('#wishlists-canvas').addClass('in');},1800);$('body').trigger('add_to_wishlist');}});});var reload_wishlist_and_adding_elem=function(el,form){var product_id=el.data('product-id'),table=$(document).find('.cart.wishlist_table'),pagination=table.data('pagination'),per_page=table.data('per-page'),wishlist_id=table.data('id'),wishlist_token=table.data('token'),data={action:yith_wcwl_l10n.actions.reload_wishlist_and_adding_elem_action,pagination:pagination,per_page:per_page,wishlist_id:wishlist_id,wishlist_token:wishlist_token,add_to_wishlist:product_id,product_type:el.data('product-type')};$.ajax({type:'POST',url:yith_wcwl_l10n.ajax_url,data:data,dataType:'html',success:function(res){var obj=$(res),new_form=obj.find('#yith-wcwl-form');form.replaceWith(new_form);$('#wishlists-canvas .wl-button').removeClass('hidden');}});}}},search:function(){var $search_popup=$('#noo_search_popup_wrapper');$('header .icon-search-menu').on('click',function(event){event.preventDefault();if($(this).data('search-type')=='ajax'){NOO.header.searchPopupOpen();}
else{$('#noo_search_popup_wrapper input[type="text"]').focus();}});$('.noo-dismiss-modal, .modal-backdrop','#noo-modal-search').on('click',function(){NOO.header.searchPopupClose();});$('.noo-search-wrapper button > i.ajax-search-icon').on('click',function(){s_search();});$('#search-ajax','#noo-modal-search').on('keyup',function(event){if(event.altKey||event.ctrlKey||event.shiftKey||event.metaKey){return;}
var keys=["Control","Alt","Shift"];if(keys.indexOf(event.key)!=-1)return;switch(event.which){case 27:NOO.header.searchPopupClose();break;case 38:s_up();break;case 40:s_down();break;case 13:var $item=$('li.selected a','#noo-modal-search');if($item.length==0){event.preventDefault();return false;}
s_enter();break;default:clearTimeout(NOO.header.timeOutSearch);NOO.header.timeOutSearch=setTimeout(s_search,500);break;}});function s_up(){var $item=$('li.selected','#noo-modal-search');if($('li','#noo-modal-search').length<2)return;var $prev=$item.prev();$item.removeClass('selected');if($prev.length){$prev.addClass('selected');}
else{$('li:last','#noo-modal-search').addClass('selected');$prev=$('li:last','#noo-modal-search');}
if($prev.position().top<$('#noo-modal-search .ajax-search-result').scrollTop()){$('#noo-modal-search .ajax-search-result').scrollTop($prev.position().top);}
else if($prev.position().top+$prev.outerHeight()>$('#noo-modal-search .ajax-search-result').scrollTop()+$('#noo-modal-search .ajax-search-result').height()){$('#noo-modal-search .ajax-search-result').scrollTop($prev.position().top-$('#noo-modal-search .ajax-search-result').height()+$prev.outerHeight());}}
function s_down(){var $item=$('li.selected','#noo-modal-search');if($('li','#noo-modal-search').length<2)return;var $next=$item.next();$item.removeClass('selected');if($next.length){$next.addClass('selected');}
else{$('li:first','#noo-modal-search').addClass('selected');$next=$('li:first','#noo-modal-search');}
if($next.position().top<$('#noo-modal-search .ajax-search-result').scrollTop()){$('#noo-modal-search .ajax-search-result').scrollTop($next.position().top);}
else if($next.position().top+$next.outerHeight()>$('#noo-modal-search .ajax-search-result').scrollTop()+$('#noo-modal-search .ajax-search-result').height()){$('#noo-modal-search .ajax-search-result').scrollTop($next.position().top-$('#noo-modal-search .ajax-search-result').height()+$next.outerHeight());}}
function s_enter(){var $item=$('li.selected a','#noo-modal-search');if($item.length>0){window.location=$item.attr('href');}}
function s_search(){var keyword=$('input[type="search"]','#noo-modal-search').val();if(keyword.length<3){$('.ajax-search-result','#noo-modal-search').html('');return;}
$('.ajax-search-icon','#noo-modal-search').addClass('fa-spinner fa-spin');$('.ajax-search-icon','#noo-modal-search').removeClass('fa-search');$.ajax({type:'POST',data:'action=result_search&keyword='+keyword,url:noo_framework_ajax_url,success:function(data){$('.ajax-search-icon','#noo-modal-search').removeClass('fa-spinner fa-spin');$('.ajax-search-icon','#noo-modal-search').addClass('fa-search');var html='';var html_view_more='';if(data){var items=$.parseJSON(data);if(items.length){html+='<ul>';if(items[0]['id']==-1){html+='<li>'+items[0]['title']+'</li>';}
else{$.each(items,function(index){if(this['id']==-2){html_view_more='<div class="search-view-more">'+this['title']+'</div>';}
else{if(index==0){html+='<li class="selected">';}
else{html+='<li>';}
if(this['title']==null||this['title']==''){html+='<a href="'+this['guid']+'">'+this['date']+'</a>';}
else{html+='<a href="'+this['guid']+'">'+this['title']+'</a>';html+='<span>'+this['date']+' </span>';}
html+='</li>';}});}
html+='</ul>';}
else{html='';}}
$('.ajax-search-result','#noo-modal-search').html(html+html_view_more);$('#noo-modal-search .ajax-search-result').scrollTop(0);},error:function(data){$('.ajax-search-icon','#noo-modal-search').removeClass('fa-spinner fa-spin');$('.ajax-search-icon','#noo-modal-search').addClass('fa-search');}});}},searchPopupOpen:function(){if(!$('#noo-modal-search').hasClass('in')){$('body').addClass('overflow-hidden');$('#noo-modal-search').show();setTimeout(function(){$('#noo-modal-search').addClass('in');},300);if($('#search-ajax','#noo-modal-search').length>0){$('#search-ajax','#noo-modal-search').focus();$('#search-ajax','#noo-modal-search').val('');}
else{$('#search-standard','#noo-modal-search').focus();$('#search-standard','#noo-modal-search').val('');}
$('.ajax-search-result','#noo-modal-search').html('');}},searchPopupClose:function(){if($('#noo-modal-search').hasClass('in')){$('#noo-modal-search').removeClass('in');setTimeout(function(){$('#noo-modal-search').hide();$('body').removeClass('overflow-hidden');},300);}},searchAjaxForm:function(){var $wrapper=$('header.noo-main-header .search-box-wrapper');var $form_wrapper=$('header.noo-main-header .search-box-wrapper form.search-type-ajax');$($window).on('click',function(event){if($(event.target).closest('header.noo-main-header .search-box-wrapper').length==0){$('.ajax-search-result',$wrapper).remove();$('> input[type="text"]',$form_wrapper).val('');}});$form_wrapper.submit(function(){return false;});$('> input[type="text"]',$form_wrapper).on('keyup',function(event){if(event.altKey||event.ctrlKey||event.shiftKey||event.metaKey){return;}
var keys=["Control","Alt","Shift"];if(keys.indexOf(event.key)!=-1)return;switch(event.which){case 27:remove_search_result();break;case 38:NOO.search.up($wrapper);break;case 40:NOO.search.down($wrapper);break;case 13:s_enter();break;default:clearTimeout(NOO.header.timeOutSearch);NOO.header.timeOutSearch=setTimeout(s_search,500);break;}
function remove_search_result(){$('.ajax-search-result',$wrapper).remove();$('> input[type="text"]',$form_wrapper).val('');}
function s_enter(){var $item=$('li.selected a',$wrapper);if($item.length>0){window.location=$item.attr('href');}}
function s_search(){var keyword=$('input[type="text"]',$form_wrapper).val();if(keyword.length<3){if($('.ajax-search-result',$form_wrapper).length==0){$($form_wrapper).append('<div class="ajax-search-result"></div>');}
var hint_message=$wrapper.attr('data-hint-message');$('.ajax-search-result',$wrapper).html('<ul><li class="no-result">'+hint_message+'</li></ul>');return;}
$('button > i',$form_wrapper).addClass('fa-spinner fa-spin');$('button > i',$form_wrapper).removeClass('fa-search');$.ajax({type:'POST',data:'action=result_search&keyword='+keyword,url:noo_framework_ajax_url,success:function(data){$('button > i',$wrapper).removeClass('fa-spinner fa-spin');$('button > i',$wrapper).addClass('fa-search');var html='';var html_view_more='';if(data){var items=$.parseJSON(data);if(items.length){html+='<ul>';if(items[0]['id']==-1){html+='<li class="no-result">'+items[0]['title']+'</li>';}
else{$.each(items,function(index){if(this['id']==-2){html_view_more='<div class="search-view-more">'+this['title']+'</div>';}
else{if(index==0){html+='<li class="selected">';}
else{html+='<li>';}
if(this['title']==null||this['title']==''){html+='<a href="'+this['guid']+'">'+this['date']+'</a>';}
else{html+='<a href="'+this['guid']+'">'+this['title']+'</a>';}
html+='</li>';}});}
html+='</ul>';}
else{html='';}}
if($('.ajax-search-result',$form_wrapper).length==0){$($form_wrapper).append('<div class="ajax-search-result"></div>');}
$('.ajax-search-result',$wrapper).html(html+html_view_more);$('.ajax-search-result ul',$wrapper).scrollTop(0);},error:function(data){$('button > i',$wrapper).removeClass('fa-spinner fa-spin');$('button > i',$wrapper).addClass('fa-search');}});}});},headerNavSpacing:function(retryAmount){if(typeof(retryAmount)=="undefined"){retryAmount=0;}
if(!NOO.common.isDesktop()){return;}
var $container=$('header.noo-main-header .noo-header-nav-wrapper > .container');$('ul.main-menu > li, .header-customize',$container).css('margin-left','');var navContainerWidth=$container.width();var navItemWidth=0;var navItemCount=0;var marginLeft=0;var totalMarginLeft=0;$('ul.main-menu > li, .header-customize,.header-left .header-logo,.header-left .logo-sticky',$container).each(function(){var $this=$(this);if($this.is(':visible')){marginLeft=parseInt($this.css('margin-left').replace('px',''),10);navItemWidth+=$this.outerWidth()+marginLeft+1;totalMarginLeft+=marginLeft;if(marginLeft>0){navItemCount++;}}});if($('.header-customize',$container).length>0){marginLeft=parseInt($('.header-customize',$container).css('margin-left').replace('px',''),10);totalMarginLeft+=marginLeft;navItemWidth+=marginLeft;if(marginLeft>0){navItemCount++;}}
navItemWidth+=50;if((navItemCount>0)&&(navItemWidth>navContainerWidth)){var newMarginLeft=(totalMarginLeft-(navItemWidth-navContainerWidth))/(1.0*navItemCount);if(marginLeft<5){marginLeft=5;}
$('ul.main-menu > li.menu-item + li, .header-customize',$container).css('margin-left',newMarginLeft+'px');if($('ul.main-menu > li.logo-sticky',$container).is(':visible')){$('ul.main-menu > li.logo-sticky + li',$container).css('margin-left',newMarginLeft+'px');}}
NOO.header.changeStickyWrapperSize(2);if(retryAmount>0){setTimeout(function(){NOO.header.headerNavSpacing(retryAmount-1);},100);}},changeStickyWrapperSize:function(count){var $sticky_wrapper=$('header.noo-main-header .noo-sticky-wrapper');if($sticky_wrapper.length>0){$sticky_wrapper.height($(' > .header-sticky',$sticky_wrapper).outerHeight());}
if(count>0){setTimeout(function(){NOO.header.changeStickyWrapperSize(count-1);},100);}},headerLeftScrollBar:function(){$('header.header-left').perfectScrollbar({wheelSpeed:0.5,suppressScrollX:true});},searchCategory:function(){$('.search-with-category').each(function(){var $wrapperLeft=$('.form-search-left',this);var $wrapper=$(this);$(document).on('click',function(event){if($(event.target).closest('.form-search-left',$wrapper).length===0){$(' > ul',$wrapperLeft).slideUp();}
if(($(event.target).closest('.form-search-right,.ajax-search-result',$wrapper).length===0)){$('.ajax-search-result',$wrapper).remove();$('input',$wrapper).val('');}});var sHtml='<li><span data-id="-1" data-value="'+$('> span',$wrapperLeft).text()+'">['+$('> span',$wrapperLeft).text()+']</span></li>';$('> ul',$wrapperLeft).prepend(sHtml);$('> span',$wrapperLeft).on('click',function(){$('> ul',$(this).parent()).slideToggle();});$('li > span',$wrapperLeft).on('click',function(){var $this=$(this);var id=$this.attr('data-id');var text='';if(typeof($this.attr('data-value'))!="undefined"){text=$this.attr('data-value');}
else{text=$this.text();}
var $cate_current=$('> span',$wrapperLeft);$cate_current.text(text);$cate_current.attr('data-id',id);$(' > ul',$wrapperLeft).slideUp();});var $inputSearch=$('input',$wrapper);$inputSearch.on('keyup',function(event){var s_timeOut_search=null;if(event.altKey||event.ctrlKey||event.shiftKey||event.metaKey){return;}
var keys=["Control","Alt","Shift"];if(keys.indexOf(event.key)!=-1)return;switch(event.which){case 37:case 39:break;case 27:$('.ajax-search-result',$wrapper).remove();$(this).val('');break;case 38:NOO.search.up($('.ajax-search-result',$wrapper));break;case 40:NOO.search.down($('.ajax-search-result',$wrapper));break;case 13:var $item=$('.ajax-search-result li.selected a',$wrapper);if($item.length==0){event.preventDefault();return false;}
window.location=$item.attr('href');event.preventDefault();return false;default:clearTimeout(s_timeOut_search);s_timeOut_search=setTimeout(function(){s_search($wrapper);},500);break;}});});function s_search($wrapper){var keyword=$('input[type="text"]',$wrapper).val();if(keyword.length<3){if($('.ajax-search-result',$wrapper).length==0){$($wrapper).append('<div class="ajax-search-result"></div>');}
var hint_message=$wrapper.attr('data-hint-message');$('.ajax-search-result',$wrapper).html('<ul><li class="no-result">'+hint_message+'</li></ul>');return;}
$('button > i',$wrapper).addClass('fa-spinner fa-spin');$('button > i',$wrapper).removeClass('fa-search');$.ajax({type:'POST',data:'action=result_search_product&keyword='+keyword+'&cate_id='+$('.form-search-left > span',$wrapper).attr('data-id'),url:noo_framework_ajax_url,success:function(data){$('button > i',$wrapper).removeClass('fa-spinner fa-spin');$('button > i',$wrapper).addClass('fa-search');var html='';var sHtmlViewMore='';if(data){var items=$.parseJSON(data);if(items.length){html+='<ul>';if(items[0]['id']==-1){html+='<li class="no-result">'+items[0]['title']+'</li>';}
else{$.each(items,function(index){if(this['id']==-2){sHtmlViewMore='<div class="search-view-more">'+this['title']+'</div>';}
else{if(index==0){html+='<li class="selected">';}
else{html+='<li>';}
html+='<a href="'+this['guid']+'">';html+=this['thumb'];html+=this['title']+'</a>';html+='<div class="price">'+this['price']+'</div>';html+='</li>';}});}
html+='</ul>';}
else{html='';}}
if($('.ajax-search-result',$wrapper).length==0){$($wrapper).append('<div class="ajax-search-result"></div>');}
$('.ajax-search-result',$wrapper).html(html+sHtmlViewMore);$('.ajax-search-result li',$wrapper).hover(function(){$('.ajax-search-result li',$wrapper).removeClass('selected');$(this).addClass('selected');});$('.ajax-search-result ul',$wrapper).scrollTop(0);},error:function(data){$('button > i',$wrapper).removeClass('fa-spinner fa-spin');$('button > i',$wrapper).addClass('fa-search');}});}}};NOO.footer={init:function(){NOO.footer.scrollUp();},scrollUp:function(){var $scrollUp=$('.a-scroll-up','.map-scroll-up');if($scrollUp.length>0){$scrollUp.on('click',function(event){event.preventDefault();$('html,body').animate({scrollTop:'0px'},800);});}}};NOO.onReady={init:function(){NOO.common.init();NOO.header.init();NOO.page.init();NOO.blog.init();NOO.footer.init();}};NOO.onLoad={init:function(){NOO.header.windowLoad();NOO.page.windowLoad();}};NOO.onResize={init:function(){NOO.page.windowResized();NOO.header.windowResized();NOO.blog.windowResized();NOO.common.gridMasonry();}};NOO.onScroll={init:function(){}};$(window).resize(NOO.onResize.init);$(window).scroll(NOO.onScroll.init);$(document).ready(NOO.onReady.init);$(window).on("load",NOO.onLoad.init);})(jQuery);