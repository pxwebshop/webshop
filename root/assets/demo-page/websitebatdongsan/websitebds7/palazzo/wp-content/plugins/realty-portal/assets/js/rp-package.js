(function($){'use strict';$(document).ready(function(){if($('.rp-price').length>0){$('.rp-price').each(function(index,el){var current_package=$(this);current_package.find('.pricing-action-agent').on('click','button',function(event){event.preventDefault();var current_package_button=$(this),package_id=current_package_button.data('package-id'),agent_id=current_package_button.data('agent-id'),data={action:'rp_buy_package',security:ADDON_PACKAGE.security,package_id:package_id,agent_id:agent_id};$.ajax({url:ADDON_PACKAGE.ajax_url,type:'POST',dataType:'json',data:data,beforeSend:function(){current_package_button.find('>i').removeClass('hide');current_package.find('.pricing-action').find('.notice').remove();},success:function(pricing){current_package_button.find('>i').addClass('hide');if(pricing.status==='success'){window.location.replace(pricing.redirect);}
current_package_button.closest('.pricing-action').append('<div class="notice">'+pricing.msg+'</div>');}})});current_package.find('.pricing-action-agency').on('click','button',function(event){event.preventDefault();var current_package_button=$(this),package_id=current_package_button.data('package-id'),agency_id=current_package_button.data('agency-id'),data={action:'rp_buy_package',security:ADDON_PACKAGE.security,package_id:package_id,agency_id:agency_id};$.ajax({url:ADDON_PACKAGE.ajax_url,type:'POST',dataType:'json',data:data,beforeSend:function(){current_package_button.find('>i').removeClass('hide');current_package.find('.pricing-action-agency').find('.notice').remove();},success:function(pricing){current_package_button.find('>i').addClass('hide');if(pricing.status==='success'){window.location.replace(pricing.redirect);}
current_package_button.closest('.pricing-action-agency').append('<div class="notice">'+pricing.msg+'</div>');}})});});}
if($('#rp-change-package').length>0){$('#rp-change-package').each(function(index,el){var $$=$(this);$$.on('click','button',function(event){event.preventDefault();var $_$=$(this),data=$$.serializeArray();data.push({'name':'action','value':'rp_buy_package'},{'name':'security','value':ADDON_PACKAGE.security});$.ajax({url:ADDON_PACKAGE.ajax_url,type:'POST',dataType:'html',data:data,beforeSend:function(){$_$.find('>i').removeClass('hide');$$.find('.notice').remove();},success:function(pricing){pricing=$.parseJSON(pricing);$_$.find('>i').addClass('hide');if(pricing.status==='success'){window.location.replace(pricing.redirect);}
$$.append('<div class="notice">'+pricing.msg+'</div>');}})});});}});})(jQuery);